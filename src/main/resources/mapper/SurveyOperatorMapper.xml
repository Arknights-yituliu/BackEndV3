<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lhs.mapper.survey.SurveyOperatorMapper">


    <!--  批量插入干员练度信息表-->
    <insert id="insertBatch">
        INSERT INTO ${tableName}
        (`id`, `uid`, `char_id`, `elite`, `level`, `potential`, `rarity`, `main_skill`, `skill1`, `skill2`, `skill3`, `mod_x`,
        `mod_y`,`mod_d`,`own`)
        VALUES
        <foreach collection="list" item="item" separator="," >
            (#{item.id}, #{item.uid}, #{item.charId}, #{item.elite},
            #{item.level},#{item.potential}, #{item.rarity}, #{item.mainSkill}, #{item.skill1},
            #{item.skill2},#{item.skill3},#{item.modX},#{item.modY},#{item.modD},
            #{item.own})
        </foreach>
    </insert>

    <update id="updateByUid">
        UPDATE ${tableName}
        SET
            `char_id` = #{item.charId},
            `own` = #{item.own},
            `level` = #{item.level},
            `elite` = #{item.elite},
            `potential` = #{item.potential},
            `rarity` = #{item.rarity},
            `main_skill` = #{item.mainSkill},
            `skill1` = #{item.skill1},
            `skill2` = #{item.skill2},
            `skill3` = #{item.skill3},
            `mod_x` = #{item.modX},
            `mod_y` = #{item.modY},
            `mod_d` = #{item.modD}
            WHERE
                id = #{item.id}
    </update>


    <select id="selectBakId" resultType="com.lhs.entity.po.survey.SurveyStatisticsUser">
         SELECT * FROM  `survey_statistics_user_bak` WHERE uid = #{uid}
    </select>

    <select id="selectBakOperatorDataById" resultType="com.lhs.entity.po.survey.SurveyOperator">
        SELECT * FROM  `survey_character_1_bak` WHERE uid = #{id}
    </select>

</mapper>
